buildscript {
    repositories { jcenter() }
    dependencies {
        classpath 'com.github.jengelman.gradle.plugins:shadow:1.2.3'
    }
}

apply plugin: 'java'
apply plugin: 'com.github.johnrengelman.shadow'
apply plugin: 'idea'

description = "ORC reader example"

task wrapper(type: Wrapper) {
    gradleVersion = "2.11"
}

repositories {
    mavenCentral()

    maven {
      url "http://repo.hortonworks.com/content/repositories/releases/"
    }

    maven { // needed for HDP2.2 Hive compilation
      url "http://conjars.org/repo/"
    }

    maven {
      url "http://repo.hortonworks.com/content/repositories/jetty-hadoop/"
    }
}

dependencies {
    compile("org.apache.hadoop:hadoop-client:2.6.0.2.2.0.0-2041")
    compile("org.apache.hive:hive-exec:0.14.0.2.2.0.0-2041")
    compile("org.pentaho:pentaho-aggdesigner-algorithm:5.1.3-jhyde")
    compile('org.apache.orc:orc-core:1.1.1')
    compile('org.apache.crunch:crunch-core:0.14.0')
    compile('org.apache.crunch:crunch-hive:0.14.0')

}

shadowJar {
    mergeServiceFiles()
    manifest {
        attributes 'Main-Class': 'orc.Main'
    }
}

